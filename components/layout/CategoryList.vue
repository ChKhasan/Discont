<template lang="html">
  <div class="header-category">
    <div class="container_xl">
      <div class="d-flex header-category_container justify-content-between">
        <div class="d-flex">
          <!-- <button><span v-html="navCategory"></span>{{ $store.state.translations["main.directory"] }}</button> -->
          <ul class="d-flex align-items-center">
            <li>
              <nuxt-link
                :class="{ stock__active: $route.params.index == 'discounts' }"
                :to="localePath('/stocks/discounts')"
                ><span v-html="navCatIcon"></span>
                {{ $store.state.translations["main.promotions"] }}</nuxt-link
              >
            </li>
            <li v-for="topBar in topBars" :key="topBar?.id">
              <nuxt-link
                :style="`background: linear-gradient(90deg, ${topBar?.color1} 0%, ${topBar?.color2} 100%);color: ${topBar?.text_color}`"
                class="winter_discount"
                :class="{ stock__active: $route.params.index == 'seasonal-discounts' }"
                :to="
                  localePath(
                    topBar?.category?.slug
                      ? `/categories-inner/${topBar?.category?.slug}`
                      : `/stock/${topBar?.promotion?.slug}`
                  )
                "
                ><img :src="topBar?.icon_svg" alt="">
                
                <!-- <span v-html="topBar?.icon_svg"></span> -->
                {{ topBar?.name }}</nuxt-link
              >
            </li>
            <!-- <li>
              <nuxt-link
                class="winter_discount"
                :class="{ stock__active: $route.params.index == 'seasonal-discounts' }"
                :to="localePath('/stocks/seasonal-discounts')"
                ><span
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                  >
                    <path
                      d="M17.935 10.9167L14.7114 11.7917L11.6531 10L14.7527 8.20833L17.9763 9.08333C18.183 9.125 18.4309 9.08333 18.5962 9C18.7616 8.91667 18.9269 8.70833 18.9682 8.5C19.0922 8.04167 18.8442 7.625 18.3896 7.5L16.7778 7.04167L18.3483 6.125C18.7202 5.91667 18.8855 5.375 18.6376 5C18.4309 4.625 17.8937 4.45833 17.5217 4.70833L15.9512 5.625L16.3645 4C16.4059 3.79167 16.4059 3.54167 16.2819 3.375C16.1579 3.20833 15.9926 3.04167 15.7859 3C15.3313 2.875 14.918 3.125 14.7941 3.58333L13.9262 6.83333L10.8266 8.58333V5L13.1823 2.625C13.3476 2.45833 13.4302 2.25 13.4302 2.04167C13.4302 1.83333 13.3476 1.625 13.1823 1.45833C12.8516 1.125 12.3557 1.125 12.0251 1.45833L10.8266 2.625V0.833333C10.8266 0.625 10.7439 0.416667 10.5786 0.25C10.4133 0.0833333 10.2066 0 10 0C9.54539 0 9.17344 0.375 9.17344 0.833333V2.66667L7.97492 1.45833C7.80961 1.29167 7.60297 1.20833 7.39633 1.20833C7.18969 1.20833 6.98305 1.29167 6.81774 1.45833C6.48711 1.79167 6.48711 2.29167 6.81774 2.625L9.17344 5V8.58333L6.07383 6.79167L5.20594 3.54167C5.16462 3.33333 4.9993 3.16667 4.83399 3.04167C4.66868 2.91667 4.42071 2.91667 4.21407 2.95833C3.80079 3.08333 3.55282 3.5 3.6768 3.95833L4.09009 5.58333L2.56095 4.70833C2.35431 4.58333 2.14767 4.58333 1.94103 4.625C1.73438 4.66667 1.52774 4.79167 1.44509 5C1.23845 5.41667 1.36243 5.91667 1.73438 6.125L3.30485 7.04167L1.69306 7.5C1.48642 7.54167 1.3211 7.70833 1.19712 7.875C1.11446 8.04167 1.07314 8.29167 1.11446 8.5C1.23845 8.91667 1.69306 9.20833 2.10634 9.08333L5.32993 8.20833L8.34688 10L5.24727 11.7917L2.02368 10.9167C1.81704 10.875 1.56907 10.9167 1.40376 11C1.23845 11.0833 1.07314 11.2917 1.03181 11.5C0.907823 11.9583 1.15579 12.375 1.6104 12.5L3.2222 12.9583L1.73438 13.875C1.52774 14 1.40376 14.1667 1.36243 14.375C1.27978 14.5833 1.3211 14.7917 1.44509 15C1.65173 15.375 2.14767 15.5417 2.56095 15.2917L4.13141 14.375L3.71813 16C3.59415 16.25 3.63548 16.5 3.75946 16.6667C3.88344 16.8333 4.04876 17 4.2554 17.0417C4.71001 17.1667 5.12329 16.9167 5.24727 16.4583L6.11516 13.2083L9.21477 11.4167V15L6.85907 17.375C6.69375 17.5417 6.6111 17.75 6.6111 17.9583C6.6111 18.1667 6.69375 18.375 6.85907 18.5417C7.18969 18.875 7.68563 18.875 8.01625 18.5417L9.21477 17.3333V19.1667C9.21477 19.625 9.58672 20 10.0413 20C10.4959 20 10.8679 19.625 10.8679 19.1667V17.3333L12.0664 18.5417C12.2317 18.7083 12.4384 18.7917 12.645 18.7917C12.8516 18.7917 13.0583 18.7083 13.2236 18.5417C13.5542 18.2083 13.5542 17.7083 13.2236 17.375L10.8266 15.0417V11.4583L13.9262 13.25L14.7941 16.5C14.8354 16.7083 15.0007 16.875 15.166 17C15.3313 17.125 15.5793 17.125 15.7859 17.0833C16.2405 16.9583 16.4885 16.5 16.3645 16.0833L15.9512 14.4583L17.5217 15.375C17.8937 15.5833 18.4309 15.4583 18.6376 15.0833C18.8442 14.6667 18.7202 14.1667 18.3483 13.9583L16.7778 13.0417L18.3896 12.5833C18.5962 12.5417 18.7616 12.375 18.8855 12.2083C18.9682 12.0417 19.0095 11.7917 18.9682 11.5833C18.8029 11.0833 18.3483 10.7917 17.935 10.9167Z"
                      fill="#018CE1"
                    /></svg></span
                >Сезонные скидки</nuxt-link
              >
            </li>
            <li>
              <nuxt-link
                :class="{ stock__active: $route.params.index == 'top-products' }"
                :to="localePath('/stocks/top-products')"
                ><span v-html="navCatIcon2"></span>Top tovarlar</nuxt-link
              >
            </li>
            <li>
              <nuxt-link
                :class="{ stock__active: $route.params.index == 'best-seller' }"
                :to="localePath('/stocks/best-seller')"
                ><span
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                  >
                    <path
                      d="M19.0811 10.0007L19.9586 7.7121C20.0549 7.45962 19.9799 7.17339 19.7686 7.00215L17.8662 5.45976L17.4812 3.03867C17.4387 2.77119 17.2287 2.56246 16.9612 2.51996L14.54 2.13499L12.9988 0.231369C12.8288 0.0201334 12.5363 -0.0548614 12.2901 0.041382L10.0002 0.920071L7.71148 0.0426319C7.45774 -0.0548614 7.174 0.0226333 7.00275 0.232619L5.4603 2.13624L3.03912 2.52121C2.77288 2.56371 2.56288 2.77369 2.52038 3.03992L2.1354 5.46101L0.231703 7.0034C0.0217092 7.17339 -0.0545385 7.45962 0.0417086 7.7121L0.919183 10.0007L0.0417086 12.2893C-0.0557885 12.5418 0.0217092 12.828 0.231703 12.998L2.1354 14.5391L2.52038 16.9602C2.56288 17.2277 2.77163 17.4377 3.03912 17.4802L5.4603 17.8652L7.00275 19.7675C7.174 19.98 7.46024 20.055 7.71273 19.9575L10.0002 19.0813L12.2888 19.9588C12.3613 19.9863 12.4363 20 12.5126 20C12.6963 20 12.8776 19.9188 12.9988 19.7675L14.54 17.8652L16.9612 17.4802C17.2287 17.4377 17.4387 17.2277 17.4812 16.9602L17.8662 14.5391L19.7686 12.998C19.9799 12.8267 20.0549 12.5418 19.9586 12.2893L19.0811 10.0007Z"
                      fill="#F44336"
                    />
                    <path
                      d="M8.12522 8.75078C7.0915 8.75078 6.25027 7.90959 6.25027 6.87591C6.25027 5.84223 7.0915 5.00104 8.12522 5.00104C9.15894 5.00104 10.0002 5.84223 10.0002 6.87591C10.0002 7.90959 9.15894 8.75078 8.12522 8.75078ZM8.12522 6.25095C7.78023 6.25095 7.50024 6.53093 7.50024 6.87591C7.50024 7.22089 7.78023 7.50087 8.12522 7.50087C8.47021 7.50087 8.7502 7.22089 8.7502 6.87591C8.7502 6.53093 8.47021 6.25095 8.12522 6.25095Z"
                      fill="#FAFAFA"
                    />
                    <path
                      d="M11.8751 15.0003C10.8414 15.0003 10.0002 14.1592 10.0002 13.1255C10.0002 12.0918 10.8414 11.2506 11.8751 11.2506C12.9088 11.2506 13.7501 12.0918 13.7501 13.1255C13.7501 14.1592 12.9088 15.0003 11.8751 15.0003ZM11.8751 12.5005C11.5314 12.5005 11.2501 12.7818 11.2501 13.1255C11.2501 13.4692 11.5314 13.7504 11.8751 13.7504C12.2188 13.7504 12.5001 13.4692 12.5001 13.1255C12.5001 12.7818 12.2188 12.5005 11.8751 12.5005Z"
                      fill="#FAFAFA"
                    />
                    <path
                      d="M6.87526 15.0003C6.74901 15.0003 6.62276 14.9629 6.51277 14.8841C6.23152 14.6829 6.16653 14.2929 6.36777 14.0117L12.6176 5.26227C12.8188 4.98104 13.2088 4.91605 13.4901 5.11728C13.7713 5.31727 13.835 5.70849 13.6351 5.98847L7.38524 14.7379C7.26149 14.9091 7.07025 15.0003 6.87526 15.0003Z"
                      fill="#FAFAFA"
                    /></svg></span
                >Best seller</nuxt-link
              >
            </li> -->
          </ul>
        </div>
        <div class="d-flex align-items-center" v-if="$store.state.auth">
          <div class="coin_btn" @click="$router.push(localePath('/d-coin/about'))">
            <span><img src="../../assets/images/coin.png" alt="" /></span>
            {{ $store.state.profile?.dicoin?.quantity }}
            {{ $store.state.translations["main.dicoin"] }}
          </div>
          <!-- <nuxt-link class="nav-info" :to="localePath('/d-coin/about')">?</nuxt-link> -->
        </div>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  name: "CategoryList",
  data() {
    return {
      navCategory: require("../../assets/svg/category_menu.svg?raw"),
      navCoin: require("../../assets/svg/coin.svg?raw"),
      navCatIcon: require("../../assets/svg/Category-item.svg?raw"),
      navCatIcon2: require("../../assets/svg/Cat-icon2.svg?raw"),
      topBars: [],
    };
  },
  async fetch() {
    const [topBarsData] = await Promise.all([
      this.$store.dispatch(`fetchTopBars/getTopBars`, {
        headers: {
          lang: this.$i18n.locale,
        },
      }),
    ]);
    this.topBars = topBarsData?.bars?.data;
  },
};
</script>
<style lang=""></style>
